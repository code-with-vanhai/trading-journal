# ğŸ“ˆ Trading Journal - Ná»n Táº£ng Quáº£n LÃ½ Äáº§u TÆ° Chá»©ng KhoÃ¡n Viá»‡t Nam

<div align="center">

![Trading Journal Hero](public/images/trading-dashboard-hero.jpg)

**ğŸš€ Giáº£i phÃ¡p quáº£n lÃ½ danh má»¥c Ä‘áº§u tÆ° chuyÃªn sÃ¢u, tá»‘i Æ°u hÃ³a cho thá»‹ trÆ°á»ng chá»©ng khoÃ¡n Viá»‡t Nam (TCBS, SSI, VPS...)**

[![Version](https://img.shields.io/badge/version-4.0.0-blue.svg)](https://github.com/yourusername/trading-journal)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Tech Stack](https://img.shields.io/badge/stack-Next.js%2015%20|%20Prisma%20|%20PostgreSQL-blueviolet.svg)](https://nextjs.org)
[![Status](https://img.shields.io/badge/status-Production%20Ready-success.svg)](https://tradingjournal.vn)

[ğŸŒ Website](https://tradingjournal.vn) â€¢ [ğŸ“– TÃ i Liá»‡u](https://docs.tradingjournal.vn) â€¢ [ğŸ’¬ Cá»™ng Äá»“ng](https://discord.gg/tradingjournal)

</div>

---

## ğŸ¯ Táº¡i Sao Chá»n Trading Journal?

KhÃ¡c vá»›i cÃ¡c file Excel thá»§ cÃ´ng hay cÃ¡c app ghi chÃ©p Ä‘Æ¡n giáº£n, **Trading Journal** táº­p trung vÃ o **tÃ­nh chÃ­nh xÃ¡c cá»§a dá»¯ liá»‡u tÃ i chÃ­nh** vÃ  **phÃ¢n tÃ­ch hiá»‡u suáº¥t chuyÃªn sÃ¢u**.

### âœ¨ TÃ­nh NÄƒng Cá»‘t LÃµi

#### 1. ğŸ’° Smart Cost Basis Engine (Äá»™c Quyá»n)
Há»‡ thá»‘ng tÃ­nh toÃ¡n giÃ¡ vá»‘n (Cost Basis) phá»©c táº¡p nháº¥t hiá»‡n nay, giáº£i quyáº¿t triá»‡t Ä‘á»ƒ cÃ¡c bÃ i toÃ¡n khÃ³ cá»§a thá»‹ trÆ°á»ng Viá»‡t Nam:
-   âœ… **FIFO ChÃ­nh XÃ¡c**: Tá»± Ä‘á»™ng khá»›p lá»‡nh bÃ¡n vá»›i cÃ¡c lÃ´ mua cÅ© nháº¥t theo Ä‘Ãºng chuáº©n káº¿ toÃ¡n.
-   âœ… **Xá»­ LÃ½ Cá»• Tá»©c (Dividends)**: Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh giÃ¡ vá»‘n khi nháº­n cá»• tá»©c tiá»n máº·t hoáº·c cá»• phiáº¿u thÆ°á»Ÿng.
-   âœ… **Corporate Actions**: Há»— trá»£ chia tÃ¡ch cá»• phiáº¿u (Stock Splits), phÃ¡t hÃ nh thÃªm.
-   âœ… **Thuáº¿ & PhÃ­**: TÃ­nh toÃ¡n chÃ­nh xÃ¡c thuáº¿ bÃ¡n (0.1%) vÃ  phÃ­ giao dá»‹ch tá»«ng cÃ´ng ty chá»©ng khoÃ¡n.

#### 2. ğŸ“Š Advanced Analytics (Thay vÃ¬ "Cáº£m tÃ­nh")
KhÃ´ng chá»‰ lÃ  biá»ƒu Ä‘á»“ giÃ¡, chÃºng tÃ´i cung cáº¥p cÃ¡c chá»‰ sá»‘ rá»§i ro chuáº©n quá»¹ Ä‘áº§u tÆ°:
-   ğŸ“ˆ **Risk Metrics**: Sharpe Ratio, Alpha, Beta, Volatility, Max Drawdown.
-   ğŸ“‰ **Benchmark Comparison**: So sÃ¡nh hiá»‡u suáº¥t thá»±c táº¿ vá»›i VN-Index/HNX-Index.
-   ğŸ° **Sector Analysis**: PhÃ¢n tÃ­ch phÃ¢n bá»• danh má»¥c theo nhÃ³m ngÃ nh (NgÃ¢n hÃ ng, Báº¥t Ä‘á»™ng sáº£n, ThÃ©p...).
-   ğŸ“… **Performance Attribution**: PhÃ¢n tÃ­ch hiá»‡u quáº£ theo tá»«ng khung thá»i gian (Tuáº§n, ThÃ¡ng, NÄƒm).

#### 3. ğŸ‡»ğŸ‡³ Tá»‘i Æ¯u Cho Chá»©ng KhoÃ¡n Viá»‡t Nam
-   âœ… **BÆ°á»›c GiÃ¡ Äá»™ng (Dynamic Price Steps)**: Validation giÃ¡ Ä‘áº·t lá»‡nh theo Ä‘Ãºng quy Ä‘á»‹nh HSX/HNX (10, 50, 100 Ä‘á»“ng).
-   âœ… **Dá»¯ Liá»‡u Thá»‹ TrÆ°á»ng**: TÃ­ch há»£p giÃ¡ tham chiáº¿u real-time (nguá»“n TCBS).
-   âœ… **T+2.5**: Há»— trá»£ theo dÃµi chu ká»³ thanh toÃ¡n.

---

## ğŸ†• TÃ­nh NÄƒng Má»›i (v4.0.0)

### ğŸ¨ UI/UX Improvements

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| **ğŸŒ™ Dark Mode** | Há»— trá»£ cháº¿ Ä‘á»™ tá»‘i vá»›i localStorage persistence, toggle mÆ°á»£t mÃ  |
| **âœï¸ Typography** | Be Vietnam Pro (há»— trá»£ tiáº¿ng Viá»‡t), Space Grotesk cho headings |
| **â³ Loading States** | Skeleton components (Table, Card, Chart, List, Form) vá»›i accessibility |
| **âœ¨ Animations** | Micro-interactions: fade-in-up, slide-in-right, scale-in, pulse effects |
| **ğŸ“‹ Enhanced Table** | Sticky header, sorting, search, selection, empty/loading states |
| **ğŸ¯ Icon System** | Lucide React icons - nháº¹ hÆ¡n vÃ  Ä‘áº¹p hÆ¡n |

### âš¡ Performance Optimization

| Tá»‘i Æ°u | Cáº£i thiá»‡n |
|--------|-----------|
| **API Consolidation** | Dashboard API giáº£m tá»« 5 requests â†’ 1 request (**80% reduction**) |
| **Server Components** | PortfolioStats, TransactionStats - Better SEO & TTFB |
| **Database Indexes** | 8 indexes má»›i cho Transaction vÃ  CostBasisAdjustment (**30-50% faster queries**) |
| **Bundle Optimization** | Chunk splitting thÃ´ng minh cho vendors, common, recharts, date-fns (**20-30% smaller bundles**) |
| **Response Caching** | Cache-Control headers vá»›i stale-while-revalidate |

---

## ğŸ› ï¸ Tech Stack & Architecture

Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i cÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i nháº¥t, Ä‘áº£m báº£o hiá»‡u nÄƒng vÃ  kháº£ nÄƒng má»Ÿ rá»™ng:

| Component | Technology | Description |
|-----------|------------|-------------|
| **Frontend** | **Next.js 15.3** (App Router) | Server Components, Streaming, Suspense |
| **Styling** | **Tailwind CSS** | Responsive design, Dark mode support |
| **Icons** | **Lucide React** | Lightweight, customizable icons |
| **Database** | **PostgreSQL** | Quan há»‡ dá»¯ liá»‡u cháº·t cháº½, ACID compliance |
| **ORM** | **Prisma** | Type-safe database access, Migrations |
| **Auth** | **NextAuth.js** | Secure authentication (Google, Credentials) |
| **Charts** | **Chart.js / Recharts** | Interactive visualizations |
| **State** | **SWR** | Data fetching with caching |
| **Infra** | **Vercel / Supabase** | Serverless deployment, Connection pooling |

---

## ğŸ“ Project Structure

```
trading-journal/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                    # API routes
â”‚   â”‚   â”œâ”€â”€ dashboard/          # Consolidated dashboard API
â”‚   â”‚   â”œâ”€â”€ portfolio/          # Portfolio endpoints
â”‚   â”‚   â”œâ”€â”€ transactions/       # Transaction endpoints
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ landing/            # Landing page components
â”‚   â”‚   â”œâ”€â”€ portfolio/          # Portfolio components (inc. Server Components)
â”‚   â”‚   â”œâ”€â”€ transactions/       # Transaction components
â”‚   â”‚   â””â”€â”€ ui/                 # Reusable UI components (Modal, Skeleton, etc.)
â”‚   â”œâ”€â”€ context/                # React contexts (Theme, Auth)
â”‚   â”œâ”€â”€ lib/                    # Utilities and helpers
â”‚   â”œâ”€â”€ services/               # Business logic services
â”‚   â””â”€â”€ [pages]/                # App router pages
â”œâ”€â”€ prisma/                     # Database schema and migrations
â”œâ”€â”€ scripts/                    # Utility scripts (backup, cleanup)
â”œâ”€â”€ tests/                      # Test suites
â””â”€â”€ docs/                       # Documentation
```

---

## ğŸš€ Báº¯t Äáº§u Nhanh

### YÃªu Cáº§u
-   Node.js 18+
-   PostgreSQL (Local hoáº·c Cloud)

### CÃ i Äáº·t
```bash
# 1. Clone repository
git clone https://github.com/yourusername/trading-journal.git
cd trading-journal

# 2. CÃ i Ä‘áº·t dependencies
npm install

# 3. Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng
cp .env.example .env
# Cáº­p nháº­t DATABASE_URL trong file .env

# 4. Khá»Ÿi táº¡o Database
npx prisma migrate dev
npx prisma db seed # (TÃ¹y chá»n) Táº¡o dá»¯ liá»‡u máº«u

# 5. Cháº¡y á»©ng dá»¥ng
npm run dev
```

Truy cáº­p `http://localhost:3000` Ä‘á»ƒ báº¯t Ä‘áº§u.

---

## ğŸ“œ Available Scripts

```bash
# Development
npm run dev              # Start development server
npm run build            # Build for production
npm run start            # Start production server
npm run lint             # Run ESLint

# Database
npm run prisma:generate  # Generate Prisma client

# Testing
npm test                 # Run all tests
npm run test:watch       # Run tests in watch mode
npm run test:coverage    # Run tests with coverage
npm run test:api         # Run API tests
npm run test:components  # Run component tests
npm run test:e2e         # Run E2E tests (Playwright)
npm run test:performance # Run performance tests

# Utilities
npm run backup           # Create database backup
npm run backup:restore   # Restore database from backup
npm run cleanup:cache    # Clean up cache
```

---

## ğŸ§ª Testing & Quality

ChÃºng tÃ´i cam káº¿t cháº¥t lÆ°á»£ng code cao nháº¥t vá»›i bá»™ test suite toÃ n diá»‡n:

-   **Unit Tests**: `npm test` (Test logic tÃ­nh toÃ¡n giÃ¡ vá»‘n, xá»­ lÃ½ cá»• tá»©c)
-   **E2E Tests**: `npm run test:e2e` (Test luá»“ng ngÆ°á»i dÃ¹ng vá»›i Playwright)
-   **Performance**: `npm run test:performance` (Load testing)

---

## ğŸ” Safety & Backup

Äá»ƒ trÃ¡nh máº¥t dá»¯ liá»‡u, hÃ£y tuÃ¢n thá»§ cÃ¡c quy táº¯c sau:
- **LuÃ´n backup** trÆ°á»›c khi cháº¡y migrations hoáº·c scripts
- **Sá»­ dá»¥ng `.env.test`** riÃªng biá»‡t cho mÃ´i trÆ°á»ng test
- **KhÃ´ng bao giá»** cháº¡y test scripts vá»›i production DATABASE_URL

Xem thÃªm: `docs/db-backup-instructions.md`

---

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p tá»« cá»™ng Ä‘á»“ng!
1.  Fork dá»± Ã¡n
2.  Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3.  Commit thay Ä‘á»•i (`git commit -m 'Add some AmazingFeature'`)
4.  Push lÃªn branch (`git push origin feature/AmazingFeature`)
5.  Táº¡o Pull Request

---

## ğŸ“„ License

Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i giáº¥y phÃ©p [MIT](LICENSE).

---

## ğŸ“ Changelog

### v4.0.0 (November 2025)
- ğŸ¨ **Dark Mode**: Full dark mode support across all components
- âœï¸ **Typography**: Be Vietnam Pro + Space Grotesk fonts
- â³ **Skeleton Loading**: Enhanced loading states with accessibility
- âœ¨ **Animations**: Smooth micro-interactions and transitions
- âš¡ **Performance**: 80% reduction in API calls, 30-50% faster queries
- ğŸ“¦ **Bundle Optimization**: Intelligent chunk splitting
- ğŸ–¼ï¸ **Icons**: Migrated to Lucide React

### v3.1.1 (Previous)
- Smart Cost Basis Engine
- Advanced Analytics
- Vietnam market optimization

---

<div align="center">
<i>Made with â¤ï¸ by Vietnamese traders, for Vietnamese traders</i>
</div>
